class GpwsController < ApplicationController
    def index

        @lData = {}

        fetchLocalAll

    end

    def fetchLocalAll
        $allIndexes.each do |index|
            @lData[index] = Gpw.where(:index=>index).order(:date).reverse_order().take(5)
        end
    end

    def show
        @lData = Gpw.where(:index=>params[:id]).order(:date).reverse_order()
    end

end

# All Polish stox inex codes
$allIndexes = [
    "06MAGNA",
    "08OCTAVA",
    "11BIT",
    "4FUNMEDIA",
    "ABPL",
    "ACAUTOGAZ",
    "ACTION",
    "ADIUVO",
    "AGORA",
    "AGROTON",
    "AILLERON",
    "AIRWAY",
    "ALIOR",
    "ALTA",
    "ALTUSTFI",
    "ALUMETAL",
    "AMBRA",
    "AMICA",
    "AMPLI",
    "AMREST",
    "APATOR",
    "APLISENS",
    "APSENERGY",
    "ARCHICOM",
    "ARCTIC",
    "ARCUS",
    "ARTERIA",
    "ARTIFEX",
    "ASBIS",
    "ASMGROUP",
    "ASSECOBS",
    "ASSECOPOL",
    "ASSECOSEE",
    "ASTARTA",
    "ATAL",
    "ATENDE",
    "ATLANTAPL",
    "ATLANTIS",
    "ATLASEST",
    "ATM",
    "ATMGRUPA",
    "ATREM",
    "AUGA",
    "AUTOPARTN",
    "AWBUD",
    "BAHOLDING",
    "BALTONA",
    "BBIDEV",
    "BEDZIN",
    "BENEFIT",
    "BERLING",
    "BEST",
    "BETACOM",
    "BIK",
    "BIOMEDLUB",
    "BIOTON",
    "BNPPPL",
    "BOGDANKA",
    "BOOMBIT",
    "BORYSZEW",
    "BOS",
    "BOWIM",
    "BRASTER",
    "BSCDRUK",
    "BUDIMEX",
    "BUMECH",
    "CAPITAL",
    "CCC",
    "CCENERGY",
    "CDPROJEKT",
    "CDRL",
    "CEEPLUS",
    "CELTIC",
    "CEZ",
    "CFI",
    "CHEMOS",
    "CIECH",
    "CIGAMES",
    "CITYSERV",
    "CLNPHARMA",
    "CNT",
    "COALENERG",
    "COGNOR",
    "COMARCH",
    "COMP",
    "COMPERIA",
    "CORMAY",
    "CPGROUP",
    "CUBEITG",
    "CYFRPLSAT",
    "CZTOREBKA",
    "DATAWALK",
    "DEBICA",
    "DECORA",
    "DEKPOL",
    "DELKO",
    "DEVELIA",
    "DGA",
    "DIGITREE",
    "DINOPL",
    "DOMDEV",
    "DREWEX",
    "DROP",
    "DROZAPOL",
    "ECHO",
    "EDINVEST",
    "EFEKT",
    "EKOEXPORT",
    "ELBUDOWA",
    "ELEKTROTI",
    "ELEMENTAL",
    "ELKOP",
    "ELZAB",
    "EMCINSMED",
    "ENAP",
    "ENEA",
    "ENELMED",
    "ENERGA",
    "ENERGOINS",
    "ENTER",
    "ERBUD",
    "ERG",
    "ERGIS",
    "ESOTIQ",
    "ESSYSTEM",
    "ESTAR",
    "EUCO",
    "EUROCASH",
    "EUROHOLD",
    "EUROTEL",
    "EVEREST",
    "FAMUR",
    "FASING",
    "FASTFIN",
    "FEERUM",
    "FENGHUA",
    "FERRO",
    "FERRUM",
    "FMG",
    "FON",
    "FORTE",
    "GETBACK",
    "GETIN",
    "GETINOBLE",
    "GLCOSMED",
    "GOBARTO",
    "GPW",
    "GROCLIN",
    "GRODNO",
    "GRUPAAZOTY",
    "GTC",
    "HANDLOWY",
    "HARPER",
    "HELIO",
    "HERKULES",
    "HMINWEST",
    "HOLLYWOOD",
    "HUBSTYLE",
    "HYDROTOR",
    "I2DEV",
    "IALBGR",
    "IBSM",
    "IDEABANK",
    "IDMSA",
    "IFCAPITAL",
    "IFIRMA",
    "IFSA",
    "IIAAV",
    "IMCOMPANY",
    "IMMOBILE",
    "IMPEL",
    "IMPERA",
    "IMS",
    "INC",
    "INDYGO",
    "INDYKPOL",
    "INGBSK",
    "INPRO",
    "INSTALKRK",
    "INTERAOLT",
    "INTERBUD",
    "INTERCARS",
    "INTERFERI",
    "INTERSPPL",
    "INTROL",
    "INVESTORMS",
    "INVISTA",
    "IPOPEMA",
    "IQP",
    "ITMTRADE",
    "IZOBLOK",
    "IZOLACJA",
    "IZOSTAL",
    "JHMDEV",
    "JJAUTO",
    "JSW",
    "JWCONSTR",
    "JWWINVEST",
    "K2INTERNT",
    "KANIA",
    "KBDOM",
    "KCI",
    "KDMSHIPNG",
    "KERNEL",
    "KETY",
    "KGHM",
    "KGL",
    "KINOPOL",
    "KOGENERA",
    "KOMPAP",
    "KOMPUTRON",
    "KONSSTALI",
    "KPPD",
    "KRAKCHEM",
    "KREC",
    "KREDYTIN",
    "KREZUS",
    "KRKA",
    "KRUK",
    "KRUSZWICA",
    "KRVITAMIN",
    "KSGAGRO",
    "LABOPRINT",
    "LARK",
    "LARQ",
    "LENA",
    "LENTEX",
    "LIBET",
    "LIVECHAT",
    "LOKUM",
    "LOTOS",
    "LPP",
    "LSISOFT",
    "LUBAWA",
    "MABION",
    "MAKARONPL",
    "MANGATA",
    "MARVIPOL",
    "MASTERPHA",
    "MAXCOM",
    "MBANK",
    "MBWS",
    "MCI",
    "MDIENERGIA",
    "MEDIACAP",
    "MEDIATEL",
    "MEDICALG",
    "MEGARON",
    "MENNICA",
    "MERCATOR",
    "MERCOR",
    "MEXPOLSKA",
    "MFO",
    "MILKILAND",
    "MILLENNIUM",
    "MIRACULUM",
    "MIRBUD",
    "MLPGROUP",
    "MLSYSTEM",
    "MOBRUK",
    "MOJ",
    "MOL",
    "MONNARI",
    "MORIZON",
    "MOSTALPLC",
    "MOSTALWAR",
    "MOSTALZAB",
    "MUZA",
    "MWIG40",
    "MWIG40DVP",
    "MWIG40TR",
    "MWTRADE",
    "NANOGROUP",
    "NCINDEX",
    "NETIA",
    "NEUCA",
    "NEWAG",
    "NORTCOAST",
    "NOVATURAS",
    "NOVITA",
    "NOWAGALA",
    "NTTSYSTEM",
    "OAT",
    "ODLEWNIE",
    "OEX",
    "OPENFIN",
    "OPONEO_PL",
    "OPTEAM",
    "ORANGEPL",
    "ORBIS",
    "ORCOGROUP",
    "ORION",
    "ORZBIALY",
    "OTLOG",
    "OTMUCHOW",
    "OVOSTAR",
    "PAMAPOL",
    "PANOVA",
    "PATENTUS",
    "PBG",
    "PBKM",
    "PBSFINANSE",
    "PCCEXOL",
    "PCCROKITA",
    "PCGUARD",
    "PEIXIN",
    "PEKABEX",
    "PEKAO",
    "PEMANAGER",
    "PEP",
    "PEPEES",
    "PGE",
    "PGNIG",
    "PGO",
    "PGSSOFT",
    "PHARMENA",
    "PHN",
    "PKNORLEN",
    "PKOBP",
    "PKPCARGO",
    "PLASTBOX",
    "PLATYNINW",
    "PLAY",
    "PLAYWAY",
    "PLAZACNTR",
    "PMPG",
    "POLICE",
    "POLIMEXMS",
    "POLNORD",
    "POLWAX",
    "POZBUD",
    "PRAGMAFA",
    "PRAGMAINK",
    "PRAIRIE",
    "PRIMAMODA",
    "PRIMETECH",
    "PROCAD",
    "PROCHEM",
    "PROJPRZEM",
    "PROTEKTOR",
    "PROVIDENT",
    "PULAWY",
    "PZU",
    "QUANTUM",
    "QUERCUS",
    "R22",
    "RADPOL",
    "RAFAKO",
    "RAFAMET",
    "RAINBOW",
    "RANKPROGR",
    "RAWLPLUG",
    "REDAN",
    "REGNON",
    "REINHOLD",
    "REINO",
    "RELPOL",
    "REMAK",
    "RESBUD",
    "RONSON",
    "ROPCZYCE",
    "RUBICON",
    "RYVU",
    "SADOVAYA",
    "SANOK",
    "SANPL",
    "SANTANDER",
    "SANWIL",
    "SCOPAK",
    "SECOGROUP",
    "SEKO",
    "SELENAFM",
    "SELVITA",
    "SERINUS",
    "SESCOM",
    "SETANTA",
    "SFINKS",
    "SILVAIR_REGS",
    "SILVANO",
    "SIMPLE",
    "SKARBIEC",
    "SKOTAN",
    "SKYLINE",
    "SLEEPZAG",
    "SNIEZKA",
    "SOHODEV",
    "SOLAR",
    "SONEL",
    "SOPHARMA",
    "STALEXP",
    "STALPROD",
    "STALPROFI",
    "STAPORKOW",
    "STARHEDGE",
    "STELMET",
    "SUNEX",
    "SUWARY",
    "SWIG80",
    "SWIG80DVP",
    "SWIG80TR",
    "SWISSMED",
    "SYGNITY",
    "SYNEKTIK",
    "TALANX",
    "TALEX",
    "TARCZYNSKI",
    "TATRY",
    "TAURONPE",
    "TBSP_INDEX",
    "TBULL",
    "TERMOREX",
    "TESGAS",
    "TIM",
    "TORPOL",
    "TOWERINVT",
    "TOYA",
    "TRAKCJA",
    "TRANSPOL",
    "TRITON",
    "TSGAMES",
    "TXM",
    "ULMA",
    "ULTGAMES",
    "UNIBEP",
    "UNICREDIT",
    "UNIMA",
    "UNIMOT",
    "URSUS",
    "VANTAGE",
    "VENTUREIN",
    "VIGOSYS",
    "VINDEXUS",
    "VISTAL",
    "VIVID",
    "VOTUM",
    "VOXEL",
    "VRG",
    "WADEX",
    "WARIMPEX",
    "WASKO",
    "WAWEL",
    "WIELTON",
    "WIG",
    "WIG20",
    "WIG20DVP",
    "WIG20LEV",
    "WIG20SHORT",
    "WIG20TR",
    "WIG30",
    "WIG30TR",
    "WIG_BANKI",
    "WIG_BUDOW",
    "WIG_CEE",
    "WIG_CHEMIA",
    "WIGDIV",
    "WIG_ENERG",
    "WIG_ESG",
    "WIG_GAMES",
    "WIG_GORNIC",
    "WIG_INFO",
    "WIG_LEKI",
    "WIG_MEDIA",
    "WIG_MOTO",
    "WIG_MS_BAS",
    "WIG_MS_FIN",
    "WIG_MS_PET",
    "WIG_NRCHOM",
    "WIG_ODZIEZ",
    "WIG_PALIWA",
    "WIG_POLAND",
    "WIG_SPOZYW",
    "WIGTECH",
    "WIG_TELKOM",
    "WIG_UKRAIN",
    "WIKANA",
    "WINVEST",
    "WIRTUALNA",
    "WITTCHEN",
    "WOJAS",
    "WORKSERV",
    "XTB",
    "XTPL",
    "YOLO",
    "ZAMET",
    "ZASTAL",
    "ZEPAK",
    "ZPUE",
    "ZREMB",
    "ZUE",
    "ZYWIEC"
]
